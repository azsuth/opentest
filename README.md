# Open Test (dscout)

`Open Test (dscout)` is a dscout vscode extension that attempts to open the test file associated with the active editor, or create one if one doesn't exist.

## Usage

Open the command palette by typing `CMD+Shift+P` and choose `Open Test (dscout`).

### Opening a test file:

<img src="./readme/happy_path.gif" data-canonical-src="https://gyazo.com/eb5c5741b6a9a16c692170a41a49c858.png" width="600" />

### Opening a test file that doesn't match the name of the active file:

<img src="./readme/misnamed.gif" data-canonical-src="https://gyazo.com/eb5c5741b6a9a16c692170a41a49c858.png" width="600" />

### Creating a new test file:

<img src="./readme/create_new.gif" data-canonical-src="https://gyazo.com/eb5c5741b6a9a16c692170a41a49c858.png" width="600" />

## How it Works

`Open Test (dscout)` relies on the assumption that the test file is in the exact same folder structure in the `test` root. It follows the below procedure, executing the first that succeeds:

1. Looks for a matching filename with a `_test` extension and opens it if it exists
1. If there is no matching folder in the `test` root, skips the next two steps and prompts the user to create a new test file
1. Lists all the test files in the matching folder for the user to pick from (for the circumstances where the file and test file do not share the same name, most commonly `index.jsx` files) and a `Create new test file!` option
1. Opens the selected test file if the user chooses one
1. Shows an input box with a suggested test file name if the user chooses `Create new test file!` option or if there was no matching folder
1. Creates the new test file with template if the user confirms the file name input box
1. Shows an error if the active file is not in the `efflux\app` root or if it is not a `.js` or `.jsx` file.

## Installation

1. Ensure that the `code` command line utility is installed. You can install it from within vscode by typing `CMD+Shift+P` and choosing `Shell Command: Install 'code' command in PATH` option.
1. Get access to the `.vsix` file either by downloading it or cloning this repo
1. Execute the following command
```
code --install-extension {path_to_vsix}/opentest-0.0.1.vsix
```
4. Restart vscode
4. Verify command `Open Test (dscout)` exists by typing `CMD+Shift+P` in vscode to confirm installation
